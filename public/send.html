<!DOCTYPE html>
<html>

<head>
    <title>WS Send</title>
    <style>
       
    </style>
    <script>
        // Create a new WebSocket.
  var socket = new WebSocket('ws://localhost:3000');


// Handle any errors that occur.
socket.onerror = function(error) {
  console.error('WebSocket Error: ' + error);
};


// Show a connected message when the WebSocket is opened.
socket.onopen = function(event) {
  console.log('Connected to: ' + event.currentTarget.url);
};


// Handle messages sent by the server.
socket.onmessage = function(event) {
  var message = event.data;
  console.log('got message', message)
};


// Show a disconnected message when the WebSocket is closed.
socket.onclose = function(event) {
  console.log('socket disconnected');
};

setInterval(function(){
    socket.send(JSON.stringify({event:'message', data:{sender: 'Me', body: 'Hello world'}}));
}, 2000);

    </script>
</head>

<body>
    <div class="container">
        <h2 id="users"></h2>
        <ul id="messages">
        </ul>
    </div>
</body>

</html>